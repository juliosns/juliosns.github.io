function HomeController($scope){function assignTo(stream,videoDomElement){navigator.userAgent.toLowerCase().indexOf("firefox")>-1?videoDomElement.mozSrcObject=stream:videoDomElement.src=window.URL.createObjectURL(stream),videoDomElement.play()}function getUMedia(){return alert(navigator.webkitGetUserMedia),navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.getUserMedia}var cam_video_id="camsource";$scope.$watch("$viewContentLoaded",function(){var video=document.getElementById(cam_video_id),options={audio:!1,video:!0},userMedia=getUMedia();return console.log("navigator ",userMedia),userMedia?(navigator.webkitGetUserMedia(options,function(stream){alert("success"),assignTo(stream,video)},function(error){console.log(error)}),void(userMedia&&(cam=camera(cam_video_id),cam.start()))):(alert("naofoder"),void $("#qr-value").text("Sorry, native web camera streaming (getUserMedia) is not supported by this browser..."))}),$scope.$on("$destroy",function(){})}function JSQRController($scope){alert("message")}function AppController($router,$scope){$router.config([{path:"/",component:"home"},{path:"/jsqr",component:"jsqr"}]),$scope.$on("$locationChangeSuccess",function(next,current){var currLocation=$router.lastNavigationAttempt;console.log("changesuccess ",currLocation),setTimeout(function(){scrollTo.scrollTo(0,function(){},100)},150)})}angular.module("QrCode.home",[]).controller("HomeController",HomeController),angular.module("QrCode.jsqr",[]).controller("JsqrController",HomeController);var app=angular.module("QrCode",["ngNewRouter","ngAnimate","QrCode.home","QrCode.jsqr"]);app.config(function($locationProvider){$locationProvider.html5Mode({enabled:!0,requireBase:!1})}),app.controller("AppController",AppController);